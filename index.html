<html>
	<head>
		<title>Three JS</title>
		<style>canvas{
		width:100%;
		height:100%;
		background:#fff;
}
</style>
<script src="js/jquery1-11-1.js"></script>
</head>
<body style="background:white;">
<div id="container"></div>
<script src="js/three.min.js"></script>
<script src="js/OrbitControls.js"></script>
<script>
var width=window.innerWidth;
var height=window.innerHeight;

var $container = $('#container');
var renderer = new THREE.WebGLRenderer();
var camera = new THREE.PerspectiveCamera(45,width/height,0.1,1000);
var scene = new THREE.Scene();
scene.add(camera);
renderer.setSize(width,height);
$container.append(renderer.domElement);

var sphere = new THREE.Mesh(
		new THREE.SphereGeometry(5,6,6),
		sphereMaterial
		);
scene.add(sphere);
var sphereMaterial = new THREE.MeshLambertMaterial({color:0xcc0000});

var pointLight = new THREE.PointLight(0xf8d898);
pointLight.position.x = -1000;
pointLight.position.y = 0;
pointLight.position.z = 1000;
pointLight.intensity = 2.9;
pointLight.distance = 10000;
scene.add(pointLight);
var planeMaterial = new THREE.MeshLambertMaterial(
		{
		color:0xffff00
		});
var plane = new THREE.Mesh(
		new THREE.PlaneGeometry(
			500,
			200,
			1,
			1
			),
		planeMaterial
		);
scene.add(plane);
var paddlewidth=10,
    paddleheight=30,
    paddledepth=10,
    paddlequality=1;
var paddle1 = new THREE.Mesh(
		new THREE.BoxGeometry(
			paddlewidth,
			paddleheight,
			paddledepth,
			paddlequality,
			paddlequality,
			paddlequality),
			paddlematerial
			
		);
var paddlematerial = new THREE.MeshBasicMaterial(
		{
		color:0xff0000
		}
		);
var fieldwidth=245;
var fieldheight=100;
paddle1.position.x = -fieldwidth;
camera.position.x = paddle1.position.x -100;
camera.position.z = paddle1.position.z +100;
camera.rotation.z = -90*Math.PI/180;
camera.rotation.y = -60*Math.PI/180;
scene.add(paddle1);
var paddle2 = new THREE.Mesh(
		new THREE.BoxGeometry(
			paddlewidth,
			paddleheight,
			paddledepth,
			paddlequality,
			paddlequality,
			paddlequality),
			paddlematerial
			
		);
paddle2.position.x = fieldwidth;
scene.add(paddle2);

var ballspeed = 2,balldirx=1,balldiry=2;
render();
function movepaddle(event){
	var keycode = event.which;
	if(keycode==65){
		if(paddle1.position.y < (fieldheight-paddleheight/2))
			paddle1.position.y += 4;
	}
	if(keycode==68){
		if(paddle1.position.y > (-fieldheight+paddleheight/2))
			paddle1.position.y -= 4;
	}
	if(keycode==32){
		pause = - pause;
	}
	event.preventDefault();

}
var pause=1;
function render()
{
	requestAnimationFrame(render);
	if(pause>0){
	sphere.position.x += ballspeed;
	sphere.position.y += balldiry;}
	ballphysics();
	document.addEventListener("keydown", movepaddle, false);

	renderer.render(scene,camera);
}

function ballphysics(){
	if(sphere.position.x+5 <= (-fieldwidth+paddlewidth/2))
	{
	
		if(sphere.position.y-5<=(paddle1.position.y+paddlewidth/2) && sphere.position.y+5 >=(paddle1.position.y-paddlewidth/2) && ballspeed<0)
		{
		ballspeed = -ballspeed;
		}
		else{
			sphere.position.set(0,0,0);
		}

	}

	if(sphere.position.x > (fieldwidth-paddlewidth/2))
		ballspeed = -ballspeed;
	if(sphere.position.y >= (fieldheight-5))
		balldiry = - balldiry;
	if(sphere.position.y <= (-fieldheight+5))
		balldiry = -balldiry;
	
}

</script>
</body>
</html>
